<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Online Giving — Truth of Faith Church (TOFAC)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link id="favicon" rel="icon" type="image/png" sizes="64x64" href="">
  <link rel="stylesheet" href="css/style.css">
  <meta name="description" content="Support TOFAC by making a secure online donation.">
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>
  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html#home" class="brand" aria-label="TOFAC home">
        <img src="images/WhatsApp Image 2025-09-01 at 06.32.59_e0638fe7.jpg" alt="TOFAC logo" width="56" height="56" loading="eager" decoding="async">
        <span class="brand-name">TOFAC</span>
      </a>
      <nav id="primary-nav" class="primary-nav" aria-label="Primary navigation">
        <ul>
          <li><a href="index.html#home">Home</a></li>
          <li><a href="index.html#ministry">Our Ministry</a></li>
          <li><a href="index.html#sermons">Sermons</a></li>
          <li><a href="giving.html" aria-current="page">Online Giving</a></li>
          <li><a href="contact.html">Contact Us</a></li>
        </ul>
      </nav>
      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav"><span class="visually-hidden">Toggle navigation</span>☰</button>
    </div>
  </header>

  <main id="main">
    <section class="section section-alt">
      <div class="container">
        <h1 class="text-center reveal">Support Our Ministry</h1>
        <p class="text-center reveal" style="color: var(--muted)">Your generosity helps us continue our mission. Make a secure donation below.</p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="card reveal">
          <h2>Bank Details</h2>
          <ul class="contact-list">
            <li><strong>Bank Name:</strong> First Bank of Nigeria</li>
            <li><strong>Account Name:</strong> Truth of Faith Church (TOFAC)</li>
            <li><strong>Account Number:</strong> <span id="acct-number">1234567890</span> <button type="button" id="copy-acct" class="btn btn-secondary">Copy</button></li>
          </ul>
          <p class="card-muted">Please include your name as the transfer reference. Thank you.</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year"></span> Truth of Faith Church (TOFAC). All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Accessible nav toggle
    const toggle = document.querySelector('.nav-toggle');
    const header = document.querySelector('.site-header');
    toggle.addEventListener('click', () => {
      const expanded = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', String(!expanded));
      header.classList.toggle('open', !expanded);
    });
    // Set current year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Scroll-triggered reveal animations
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const revealEls = document.querySelectorAll('.reveal');
    if (prefersReduced) {
      revealEls.forEach(el => el.classList.add('is-visible'));
    } else {
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            io.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15, rootMargin: '0px 0px -10% 0px' });
      revealEls.forEach(el => io.observe(el));
    }

    // Favicon from logo
    (function setFaviconFromLogo() {
      const logo = document.querySelector('.brand img');
      const link = document.getElementById('favicon') || document.createElement('link');
      link.rel = 'icon';
      link.type = 'image/png';
      link.sizes = '64x64';
      const img = new Image();
      img.crossOrigin = 'anonymous';
      img.src = logo?.src || '';
      img.onload = () => {
        const size = 64;
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        const iw = img.width, ih = img.height;
        const scale = Math.max(size / iw, size / ih);
        const dw = iw * scale, dh = ih * scale;
        const dx = (size - dw) / 2, dy = (size - dh) / 2;
        ctx.clearRect(0, 0, size, size);
        ctx.drawImage(img, dx, dy, dw, dh);
        link.href = canvas.toDataURL('image/png');
        document.head.appendChild(link);
      };
    })();

    // Bank details: copy account number
    const acctEl = document.getElementById('acct-number');
    const copyBtn = document.getElementById('copy-acct');
    if (copyBtn && acctEl) {
      copyBtn.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(acctEl.textContent.trim());
          copyBtn.textContent = 'Copied';
          setTimeout(() => { copyBtn.textContent = 'Copy'; }, 1200);
        } catch {
          alert('Copy failed. Please copy manually.');
        }
      });
    }
  </script>
</body>
</html>